{"ast":null,"code":"var _jsxFileName = \"D:\\\\xampp\\\\htdocs\\\\src\\\\pages\\\\Editor.js\",\n  _s = $RefreshSig$();\n// Editor.js\nimport React, { useEffect } from 'react';\nimport { useAppContext } from '../context';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Editor() {\n  _s();\n  const urlParams = new URLSearchParams(window.location.search);\n  const gameID = urlParams.get('id');\n  const {\n    setSavedGameData\n  } = useAppContext();\n  const navigate = useNavigate();\n  useEffect(() => {\n    const handleIframeMessage = event => {\n      if (event.origin !== window.location.origin) return;\n      if (event.data === 'cerrarApp') {\n        navigate('/games');\n      }\n    };\n    const handleSavedGame = event => {\n      if (event.origin !== window.location.origin) return;\n      if (event.data.type === 'game_saved') {\n        const savedGameData = event.data.data;\n        setSavedGameData(savedGameData);\n      }\n    };\n    window.addEventListener('message', handleIframeMessage);\n    window.addEventListener('message', handleSavedGame);\n    return () => {\n      window.removeEventListener('message', handleIframeMessage);\n      window.removeEventListener('message', handleSavedGame);\n    };\n  }, [setSavedGameData, navigate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100%',\n      height: '100vh',\n      overflow: 'hidden'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n      title: \"Editor\",\n      src: `/editor?id=${gameID}`,\n      style: {\n        width: '100%',\n        height: '99%',\n        border: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(Editor, \"PE7cheutliHz9tuXLgcYpiDM/+0=\", false, function () {\n  return [useAppContext, useNavigate];\n});\n_c = Editor;\nexport default Editor;\nvar _c;\n$RefreshReg$(_c, \"Editor\");","map":{"version":3,"names":["React","useEffect","useAppContext","useNavigate","jsxDEV","_jsxDEV","Editor","_s","urlParams","URLSearchParams","window","location","search","gameID","get","setSavedGameData","navigate","handleIframeMessage","event","origin","data","handleSavedGame","type","savedGameData","addEventListener","removeEventListener","style","width","height","overflow","children","title","src","border","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/xampp/htdocs/src/pages/Editor.js"],"sourcesContent":["// Editor.js\r\nimport React, { useEffect } from 'react';\r\nimport { useAppContext } from '../context';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Editor() {\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  const gameID = urlParams.get('id');\r\n  const { setSavedGameData } = useAppContext();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const handleIframeMessage = (event) => {\r\n      if (event.origin !== window.location.origin) return;\r\n      if (event.data === 'cerrarApp') {\r\n        navigate('/games');\r\n      }\r\n    };\r\n\r\n    const handleSavedGame = (event) => {\r\n      if (event.origin !== window.location.origin) return;\r\n      if (event.data.type === 'game_saved') {\r\n        const savedGameData = event.data.data;\r\n        setSavedGameData(savedGameData);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('message', handleIframeMessage);\r\n    window.addEventListener('message', handleSavedGame);\r\n\r\n    return () => {\r\n      window.removeEventListener('message', handleIframeMessage);\r\n      window.removeEventListener('message', handleSavedGame);\r\n    };\r\n  }, [setSavedGameData, navigate]);\r\n\r\n  return (\r\n    <div style={{ width: '100%', height: '100vh', overflow: 'hidden' }}>\r\n      <iframe\r\n        title=\"Editor\"\r\n        src={`/editor?id=${gameID}`}\r\n        style={{ width: '100%', height: '99%', border: 'none' }}\r\n      ></iframe>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Editor;\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,aAAa,QAAQ,YAAY;AAC1C,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,SAASC,MAAMA,CAAA,EAAG;EAAAC,EAAA;EAChB,MAAMC,SAAS,GAAG,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC;EAC7D,MAAMC,MAAM,GAAGL,SAAS,CAACM,GAAG,CAAC,IAAI,CAAC;EAClC,MAAM;IAAEC;EAAiB,CAAC,GAAGb,aAAa,CAAC,CAAC;EAC5C,MAAMc,QAAQ,GAAGb,WAAW,CAAC,CAAC;EAE9BF,SAAS,CAAC,MAAM;IACd,MAAMgB,mBAAmB,GAAIC,KAAK,IAAK;MACrC,IAAIA,KAAK,CAACC,MAAM,KAAKT,MAAM,CAACC,QAAQ,CAACQ,MAAM,EAAE;MAC7C,IAAID,KAAK,CAACE,IAAI,KAAK,WAAW,EAAE;QAC9BJ,QAAQ,CAAC,QAAQ,CAAC;MACpB;IACF,CAAC;IAED,MAAMK,eAAe,GAAIH,KAAK,IAAK;MACjC,IAAIA,KAAK,CAACC,MAAM,KAAKT,MAAM,CAACC,QAAQ,CAACQ,MAAM,EAAE;MAC7C,IAAID,KAAK,CAACE,IAAI,CAACE,IAAI,KAAK,YAAY,EAAE;QACpC,MAAMC,aAAa,GAAGL,KAAK,CAACE,IAAI,CAACA,IAAI;QACrCL,gBAAgB,CAACQ,aAAa,CAAC;MACjC;IACF,CAAC;IAEDb,MAAM,CAACc,gBAAgB,CAAC,SAAS,EAAEP,mBAAmB,CAAC;IACvDP,MAAM,CAACc,gBAAgB,CAAC,SAAS,EAAEH,eAAe,CAAC;IAEnD,OAAO,MAAM;MACXX,MAAM,CAACe,mBAAmB,CAAC,SAAS,EAAER,mBAAmB,CAAC;MAC1DP,MAAM,CAACe,mBAAmB,CAAC,SAAS,EAAEJ,eAAe,CAAC;IACxD,CAAC;EACH,CAAC,EAAE,CAACN,gBAAgB,EAAEC,QAAQ,CAAC,CAAC;EAEhC,oBACEX,OAAA;IAAKqB,KAAK,EAAE;MAAEC,KAAK,EAAE,MAAM;MAAEC,MAAM,EAAE,OAAO;MAAEC,QAAQ,EAAE;IAAS,CAAE;IAAAC,QAAA,eACjEzB,OAAA;MACE0B,KAAK,EAAC,QAAQ;MACdC,GAAG,EAAG,cAAanB,MAAO,EAAE;MAC5Ba,KAAK,EAAE;QAAEC,KAAK,EAAE,MAAM;QAAEC,MAAM,EAAE,KAAK;QAAEK,MAAM,EAAE;MAAO;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjD;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV;AAAC9B,EAAA,CAxCQD,MAAM;EAAA,QAGgBJ,aAAa,EACzBC,WAAW;AAAA;AAAAmC,EAAA,GAJrBhC,MAAM;AA0Cf,eAAeA,MAAM;AAAC,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}