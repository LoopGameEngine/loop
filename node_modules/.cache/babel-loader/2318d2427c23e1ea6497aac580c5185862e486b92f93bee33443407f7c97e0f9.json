{"ast":null,"code":"var _jsxFileName = \"D:\\\\xampp\\\\htdocs\\\\src\\\\pages\\\\Editor.js\",\n  _s = $RefreshSig$();\n// Editor.js\nimport React, { useEffect } from 'react';\nimport { useAppContext } from '../context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Editor() {\n  _s();\n  // Obtén el valor del parámetro \"id\" de la URL actual\n  const urlParams = new URLSearchParams(window.location.search);\n  const gameID = urlParams.get('id');\n  const {\n    setSavedGameData\n  } = useAppContext();\n  window.addEventListener('message', function (event) {\n    // Verifica que el mensaje provenga del iframe (verifica el origen si es necesario)\n    if (event.data === 'cerrarApp') {\n      // Redirige a la página de Games\n      window.location.href = '/games'; // Ajusta la URL según tu estructura de rutas\n    }\n  });\n\n  useEffect(() => {\n    const handleSavedGame = event => {\n      if (event.origin !== window.location.origin) return;\n      if (event.data.type === 'game_saved') {\n        const savedGameData = event.data.data;\n        setSavedGameData(savedGameData); // Actualiza el contexto con los datos del juego guardado\n        console.log(\"Juego guardado recibido:\", savedGameData);\n      }\n    };\n    window.addEventListener('message', handleSavedGame);\n    return () => {\n      window.removeEventListener('message', handleSavedGame);\n    };\n  }, [setSavedGameData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100%',\n      height: '100vh',\n      overflow: 'hidden'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n      title: \"Editor\",\n      src: `/editor?id=${gameID}` // Incluye el valor de \"id\" en la URL\n      ,\n      style: {\n        width: '100%',\n        height: '100%',\n        border: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(Editor, \"LQ0VYFpW+orr0DsJzbV5LBkNS3Y=\", false, function () {\n  return [useAppContext];\n});\n_c = Editor;\nexport default Editor;\nvar _c;\n$RefreshReg$(_c, \"Editor\");","map":{"version":3,"names":["React","useEffect","useAppContext","jsxDEV","_jsxDEV","Editor","_s","urlParams","URLSearchParams","window","location","search","gameID","get","setSavedGameData","addEventListener","event","data","href","handleSavedGame","origin","type","savedGameData","console","log","removeEventListener","style","width","height","overflow","children","title","src","border","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/xampp/htdocs/src/pages/Editor.js"],"sourcesContent":["// Editor.js\r\nimport React, { useEffect } from 'react';\r\nimport { useAppContext } from '../context';\r\n\r\nfunction Editor() {\r\n  // Obtén el valor del parámetro \"id\" de la URL actual\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  const gameID = urlParams.get('id');\r\n  const { setSavedGameData } = useAppContext();\r\n\r\n  window.addEventListener('message', function(event) {\r\n    // Verifica que el mensaje provenga del iframe (verifica el origen si es necesario)\r\n    if (event.data === 'cerrarApp') {\r\n      // Redirige a la página de Games\r\n      window.location.href = '/games'; // Ajusta la URL según tu estructura de rutas\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    const handleSavedGame = (event) => {\r\n      if (event.origin !== window.location.origin) return;\r\n\r\n      if (event.data.type === 'game_saved') {\r\n        const savedGameData = event.data.data;\r\n        setSavedGameData(savedGameData); // Actualiza el contexto con los datos del juego guardado\r\n        console.log(\"Juego guardado recibido:\", savedGameData);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('message', handleSavedGame);\r\n    return () => {\r\n      window.removeEventListener('message', handleSavedGame);\r\n    };\r\n  }, [setSavedGameData]);\r\n\r\n  return (\r\n    <div style={{ width: '100%', height: '100vh', overflow: 'hidden' }}>\r\n      {/* Carga la ruta del editor con el valor de \"id\" como parte de la URL */}\r\n      <iframe\r\n        title=\"Editor\"\r\n        src={`/editor?id=${gameID}`} // Incluye el valor de \"id\" en la URL\r\n        style={{ width: '100%', height: '100%', border: 'none' }}\r\n      ></iframe>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Editor;\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,aAAa,QAAQ,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3C,SAASC,MAAMA,CAAA,EAAG;EAAAC,EAAA;EAChB;EACA,MAAMC,SAAS,GAAG,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC;EAC7D,MAAMC,MAAM,GAAGL,SAAS,CAACM,GAAG,CAAC,IAAI,CAAC;EAClC,MAAM;IAAEC;EAAiB,CAAC,GAAGZ,aAAa,CAAC,CAAC;EAE5CO,MAAM,CAACM,gBAAgB,CAAC,SAAS,EAAE,UAASC,KAAK,EAAE;IACjD;IACA,IAAIA,KAAK,CAACC,IAAI,KAAK,WAAW,EAAE;MAC9B;MACAR,MAAM,CAACC,QAAQ,CAACQ,IAAI,GAAG,QAAQ,CAAC,CAAC;IACnC;EACF,CAAC,CAAC;;EAEFjB,SAAS,CAAC,MAAM;IACd,MAAMkB,eAAe,GAAIH,KAAK,IAAK;MACjC,IAAIA,KAAK,CAACI,MAAM,KAAKX,MAAM,CAACC,QAAQ,CAACU,MAAM,EAAE;MAE7C,IAAIJ,KAAK,CAACC,IAAI,CAACI,IAAI,KAAK,YAAY,EAAE;QACpC,MAAMC,aAAa,GAAGN,KAAK,CAACC,IAAI,CAACA,IAAI;QACrCH,gBAAgB,CAACQ,aAAa,CAAC,CAAC,CAAC;QACjCC,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEF,aAAa,CAAC;MACxD;IACF,CAAC;IAEDb,MAAM,CAACM,gBAAgB,CAAC,SAAS,EAAEI,eAAe,CAAC;IACnD,OAAO,MAAM;MACXV,MAAM,CAACgB,mBAAmB,CAAC,SAAS,EAAEN,eAAe,CAAC;IACxD,CAAC;EACH,CAAC,EAAE,CAACL,gBAAgB,CAAC,CAAC;EAEtB,oBACEV,OAAA;IAAKsB,KAAK,EAAE;MAAEC,KAAK,EAAE,MAAM;MAAEC,MAAM,EAAE,OAAO;MAAEC,QAAQ,EAAE;IAAS,CAAE;IAAAC,QAAA,eAEjE1B,OAAA;MACE2B,KAAK,EAAC,QAAQ;MACdC,GAAG,EAAG,cAAapB,MAAO,EAAE,CAAC;MAAA;MAC7Bc,KAAK,EAAE;QAAEC,KAAK,EAAE,MAAM;QAAEC,MAAM,EAAE,MAAM;QAAEK,MAAM,EAAE;MAAO;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClD;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV;AAAC/B,EAAA,CAzCQD,MAAM;EAAA,QAIgBH,aAAa;AAAA;AAAAoC,EAAA,GAJnCjC,MAAM;AA2Cf,eAAeA,MAAM;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}